# 데이터 전송

1. 전달 미 보장 데이터 : 대역폭 고갈시 이러한 데이터는 생략한다. (우선 순위가 낮음)
2. 전달 보장 데이터 : 수신이 보장되어야 하며, 발신도 순차적으로 보장해야하는 데이터이다.
3. 최신 상태 데이터 : 최신 상태여야만 의미가 있는 데이터이다.
4. 특급 전달 보장 데이터 : 최우선으로 보내며, 전달 보장이 되어야 하는 데이터이다.

# 트라이브스모델
![트라이브스모델](https://user-images.githubusercontent.com/80669633/223055889-255feb1d-5b31-4d6f-8a0e-699dca06e12b.jpg)

### 플랫폼 패킷 모듈  
- 표준 소켓 API로 유일하게 플랫폼의 종속적인 계층이다.  
- 비신뢰성 프로토콜``UDP``를 사용한다.  
- 이때, UDP는 실시간성과 제어기능이 좋다.

### 연결 관리자  
- 두 호스트 사이의 연결을 추상화한다.  
1. 윗단의 스트림 관리자가 내려주는 데이터를 받아 아랫단의 플랫폼 패킷 모듈로 전달한다.  
2. DSN(Delivery Status Notification)을 보장한다.  
3. ```신뢰성을 주는 매커니즘```을 추가한다.

### 스트림 관리자  
- 여러 상위 관리자를 대신하여 데이터를 연결관리자로 보낸다.  
1. 허용 최대 데이터 ```전송률을 조절```한다.  
2. 상위 계층의 전송 요청의 우선순위를 관리한다.  
3. 고스트나 이벤트 등 상위계층의 우선순위를 정한다.

### 이벤트 관리자  
- 게임 시뮬레이션 중 발생하는 이벤트의 대기열을 관리한다.  
1. 이들 이벤트는 RPC(Remote Procedure Call, 원격 프로시저)형태이다.  
2. 이벤트 관리자 이벤트 전송 기록을 추적하여 이벤트의 확실한 전달을 보장한다.  

### 고스트 관리자   
- 128인 멀티플레이를 실현하는데 중요하며, 상위 수준에서 특정 클라이언트의 유의미한 동적 객체를 복제(고스트)한다.  
- 클라이언트가 서버로부터 받은 객체 정보를 서버 객체의 ```고스트```라고 한다.  
- 클라이언트가 최신 상태로 업데이트하는 것을 보장해주는 기능을 한다. 
- 어떤 객체가 클라이언트의 인지 범위에 포함되는지 (scope) 여부를 판정한다. 

### 이동 관리자
- 플레이어의 이동 데이터를 최대한 빨리 전송한다.  
정확하고 빠른 이동 정보가 중요한 요소이다.

#### 에이지 오브 엠파이어
- 낮은 대역폭을 지원하는 rts 게임이다.
- 결정론적 락스텝 모델을 채택했다. (동기화)

#### RTS 문제 해결의 기본
1 턴 타이머
잠와

### 기타
- 전체 비중으로 볼 때 그다지 중요하지 않은 것들이다.
주로 정적인 편에 속하는 게임 객체이다.


